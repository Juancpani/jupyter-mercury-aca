# Jupyter Notebooks Rendered with Mercury on Azure Container Apps

This is an Azure Developer CLI (azd) template that renders runnable, interactive Jupyter Notebooks in the browser using [Mercury](https://github.com/mljar/mercury). This template uses Azure Container Apps to host the application on Azure. It includes:
- **Application code** in the `src/` directory (really just a sample Jupyter Notebook, generated by Mercury)
- **Infrastructure as Code** (in the `/infra` directory), written in Bicep, that provision Azure resources and specify how to deploy the code on Azure, and
- **A GitHub Actions workflow** that sets up a CI/CD pipeline to run against real Azure resources on every commit to your repo (in the `.github/` directory)
- **VS Code configuration** to run and debug the application (in the `.vscode/` directory)
- **azure.yaml** - 

## Prerequisites
- Azure Developer CLI
- Python 3.9+
- Docker

## Quickstart

The fastest way for you to get this application up and running on Azure is to use the `azd up` command. This single command will create and configure all necessary Azure resources - including access policies and roles for your account and service-to-service communication with Managed Identities.

1. Open a terminal, create a new empty folder, and change into it.
2. Create a new Python virtual environment.
3. Run the following command to initialize the project, provision Azure resources, and deploy the application code.

```
azd up --template savannahostrowski/python-mercury-notebooks-azd
```

## How to modify this template
In the `src/` directory, you'll find a sample notebook generated by Mercury. You can remove this file and replace it with your own Jupyter notebook(s). Remember to `pip install` the Python package dependencies for any notebooks you add to the app! Whenever, you're ready, re-run `azd up`!

# Architecture
This app uses the following Azure resources:

- [**Azure Container Apps**](https://docs.microsoft.com/azure/container-apps/) to host the Web frontend and API backend
- [**Azure Monitor**](https://docs.microsoft.com/azure/azure-monitor/) for monitoring and logging

```mermaid
flowchart LR
    subgraph azcontainerreg [Azure Container Registry]
    b1[Container Versions]
    end
    subgraph env [Azure Container Environment]
    a1[Container App - Web App]
    end
    subgraph monitor [Monitoring]
    c1[Azure Monitor]
    end
    azcontainerreg --> env
    env <--> monitor
```